{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///universe.min.js","webpack:///webpack/bootstrap b93a8840259ae0b67b2f","webpack:///./src/universe.js"],"names":["root","factory","exports","module","define","amd","Universe","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","options","init","animate","event","_options","th","size","defaults","starNumber","color","map","container","document","body","state","mouseX","mouseY","width","clientWidth","height","clientHeight","windowHalfX","windowHalfY","scene","THREE","Scene","camera","PerspectiveCamera","geometry","Geometry","vertex","Vector3","x","Math","randFloatSpread","y","z","vertices","push","particles","Points","PointsMaterial","transparent","add","renderer","WebGLRenderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","domElement","Date","getTime","appendChild","autoClear","r","now","ratioH","ratioW","fov","sin","updateProjectionMatrix","position","lookAt","clear","setViewport","render","requestAnimationFrame","addEventListener","onDocumentMouseMove","onDocumentTouchStart","onDocumentTouchMove","onWindowResize","clientX","clientY","touches","preventDefault","pageX","pageY","aspect"],"mappings":"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","file":"universe.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Universe\"] = factory();\n\telse\n\t\troot[\"Universe\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Universe\"] = factory();\n\telse\n\t\troot[\"Universe\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * param:options, {Object}\n\t * options.id, {String}, \n\t * options.size, {Int}, 1-..., star size default = 5.0\n\t * options.starNumber {Int} default = 10000\n\t * options.color default = 0xffffff\n\t * options.caontainer continer of canvas ,default = document.body\n\t * options.map star map such as THREE.ImageUtils.loadTexture( 'star.png' ), default is null\n\t */\n\t\n\tvar Universe = function () {\n\t  function Universe(options) {\n\t    _classCallCheck(this, Universe);\n\t\n\t    this.init(options);\n\t    this.animate();\n\t    this.event();\n\t  }\n\t\n\t  _createClass(Universe, [{\n\t    key: 'init',\n\t    value: function init(_options) {\n\t\n\t      var options = _options || {};\n\t      var th = this;\n\t\n\t      th.options = {\n\t        size: options.size || Universe.defaults.size,\n\t        id: options.id,\n\t        starNumber: options.starNumber || Universe.defaults.starNumber,\n\t        color: options.color || Universe.defaults.color,\n\t        map: options.map\n\t      };\n\t\n\t      th.container = options.container || document.body;\n\t\n\t      options = th.options;\n\t\n\t      th.state = {\n\t        mouseX: 0,\n\t        mouseY: 0,\n\t        width: options.width || th.container.clientWidth,\n\t        height: options.height || th.container.clientHeight,\n\t        windowHalfX: th.container.clientWidth / 2,\n\t        windowHalfY: th.container.clientHeight / 2\n\t      };\n\t\n\t      //webgl\n\t      th.scene = new THREE.Scene();\n\t      th.camera = new THREE.PerspectiveCamera(50, th.state.width / th.state.height, 150, 4000);\n\t\n\t      var geometry = new THREE.Geometry();\n\t\n\t      for (var i = 0; i < options.starNumber; i++) {\n\t\n\t        var vertex = new THREE.Vector3();\n\t        vertex.x = THREE.Math.randFloatSpread(4000);\n\t        vertex.y = THREE.Math.randFloatSpread(4000);\n\t        vertex.z = THREE.Math.randFloatSpread(4000);\n\t        geometry.vertices.push(vertex);\n\t      }\n\t\n\t      var particles = new THREE.Points(geometry, new THREE.PointsMaterial({\n\t        color: options.color,\n\t        size: options.size,\n\t        map: th.options.map || null,\n\t        transparent: true\n\t      }));\n\t\n\t      th.scene.add(particles);\n\t\n\t      th.renderer = new THREE.WebGLRenderer({ antialias: true });\n\t      th.renderer.setPixelRatio(window.devicePixelRatio);\n\t      th.renderer.setSize(th.state.width, th.state.height);\n\t      th.renderer.domElement.id = options.id || 'id' + new Date().getTime();\n\t      th.container.appendChild(th.renderer.domElement);\n\t      th.renderer.autoClear = false;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t\n\t      var r = Date.now() * 0.0005;\n\t      var th = this;\n\t      var ratioH = th.state.height / 500 * 0.02;\n\t      var ratioW = th.state.width / 1000 * 0.02;\n\t\n\t      th.camera.fov = 35 + 90 * Math.sin(0.5 * r);\n\t      th.camera.updateProjectionMatrix();\n\t\n\t      th.camera.position.x += (th.state.mouseX - th.camera.position.x) * ratioH;\n\t      th.camera.position.y += (-th.state.mouseY - th.camera.position.y) * ratioW;\n\t      th.camera.lookAt(th.scene.position);\n\t\n\t      th.renderer.clear();\n\t      th.renderer.setViewport(0, 0, th.state.width, th.state.height);\n\t      th.renderer.render(th.scene, th.camera);\n\t    }\n\t  }, {\n\t    key: 'animate',\n\t    value: function animate() {\n\t\n\t      var th = this;\n\t\n\t      function animate() {\n\t        requestAnimationFrame(animate);\n\t        th.render();\n\t      }\n\t\n\t      animate();\n\t    }\n\t  }, {\n\t    key: 'event',\n\t    value: function event() {\n\t\n\t      var th = this;\n\t      document.addEventListener('mousemove', th.onDocumentMouseMove(), false);\n\t      document.addEventListener('touchstart', th.onDocumentTouchStart(), false);\n\t      document.addEventListener('touchmove', th.onDocumentTouchMove(), false);\n\t      window.addEventListener('resize', th.onWindowResize(), false);\n\t    }\n\t  }, {\n\t    key: 'onDocumentMouseMove',\n\t    value: function onDocumentMouseMove() {\n\t\n\t      var th = this;\n\t\n\t      return function (event) {\n\t        th.state.mouseX = event.clientX - th.state.windowHalfX;\n\t        th.state.mouseY = event.clientY - th.state.windowHalfY;\n\t      };\n\t    }\n\t  }, {\n\t    key: 'onDocumentTouchStart',\n\t    value: function onDocumentTouchStart() {\n\t\n\t      var th = this;\n\t\n\t      return function (event) {\n\t\n\t        if (event.touches.length === 1) {\n\t\n\t          event.preventDefault();\n\t          th.state.mouseX = event.touches[0].pageX - th.state.windowHalfX;\n\t          th.state.mouseY = event.touches[0].pageY - th.state.windowHalfY;\n\t        }\n\t      };\n\t    }\n\t  }, {\n\t    key: 'onDocumentTouchMove',\n\t    value: function onDocumentTouchMove() {\n\t\n\t      var th = this;\n\t\n\t      return function (event) {\n\t\n\t        if (event.touches.length === 1) {\n\t\n\t          event.preventDefault();\n\t          th.state.mouseX = event.touches[0].pageX - th.state.windowHalfX;\n\t          th.state.mouseY = event.touches[0].pageY - th.state.windowHalfY;\n\t        }\n\t      };\n\t    }\n\t  }, {\n\t    key: 'onWindowResize',\n\t    value: function onWindowResize() {\n\t\n\t      var th = this;\n\t\n\t      return function () {\n\t        th.state.width = th.container.clientWidth;\n\t        th.state.height = th.container.clientHeight;\n\t        th.state.windowHalfX = th.container.clientWidth / 2;\n\t        th.state.windowHalfY = th.container.clientHeight / 2;\n\t\n\t        th.renderer.setSize(th.state.width, th.state.height);\n\t        th.camera.aspect = th.state.width / th.state.height;\n\t        th.camera.updateProjectionMatrix();\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return Universe;\n\t}();\n\t\n\tUniverse.defaults = {\n\t  size: 5.0,\n\t  starNumber: 10000,\n\t  color: 0xffffff\n\t};\n\texports.default = Universe;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** universe.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b93a8840259ae0b67b2f\n **/","/**\n * param:options, {Object}\n * options.id, {String}, \n * options.size, {Int}, 1-..., star size default = 5.0\n * options.starNumber {Int} default = 10000\n * options.color default = 0xffffff\n * options.caontainer continer of canvas ,default = document.body\n * options.map star map such as THREE.ImageUtils.loadTexture( 'star.png' ), default is null\n */\n\n\nexport default class Universe {\n\n\tstatic defaults = {\n    size: 5.0\n    ,starNumber: 10000\n    ,color: 0xffffff\n  }\n\n  constructor (options) {\n    this.init(options)\n    this.animate()\n    this.event()\n  }\n\n  init (_options) {\n\n    let options = _options || {}\n    let th = this\n\n    th.options = {\n      size: options.size || Universe.defaults.size\n      ,id: options.id\n      ,starNumber: options.starNumber || Universe.defaults.starNumber\n      ,color: options.color || Universe.defaults.color\n      ,map: options.map\n    }\n\n    th.container = options.container || document.body\n\n    options = th.options\n\n    th.state = {\n      mouseX: 0\n      ,mouseY: 0\n      ,width: options.width || th.container.clientWidth\n      ,height: options.height || th.container.clientHeight\n      ,windowHalfX: th.container.clientWidth/2\n      ,windowHalfY: th.container.clientHeight/2\n    }\n\n    //webgl\n    th.scene = new THREE.Scene()\n    th.camera = new THREE.PerspectiveCamera( 50, th.state.width / th.state.height, 150, 4000 )\n\n    let geometry = new THREE.Geometry()\n\n    for ( let i = 0;i < options.starNumber;i ++ ) {\n\n      let vertex = new THREE.Vector3()\n      vertex.x = THREE.Math.randFloatSpread( 4000 )\n      vertex.y = THREE.Math.randFloatSpread( 4000 )\n      vertex.z = THREE.Math.randFloatSpread( 4000 )\n      geometry.vertices.push( vertex )\n\n    }\n    \n    let particles = new THREE.Points( geometry, new THREE.PointsMaterial({\n      color: options.color\n      ,size: options.size\n      ,map: th.options.map || null\n      ,transparent: true\n    }))\n\n    th.scene.add( particles )\n\n    th.renderer = new THREE.WebGLRenderer( { antialias: true } )\n    th.renderer.setPixelRatio( window.devicePixelRatio )\n    th.renderer.setSize( th.state.width, th.state.height )\n    th.renderer.domElement.id = options.id || 'id' + new Date().getTime()\n    th.container.appendChild( th.renderer.domElement )\n    th.renderer.autoClear = false\n\n  }\n\n  render () {\n\n    let r = Date.now() * 0.0005\n    let th = this\n    let ratioH = th.state.height/500*0.02\n    let ratioW = th.state.width/1000*0.02\n\n    th.camera.fov = 35 + 90 * Math.sin( 0.5 * r )\n    th.camera.updateProjectionMatrix()\n\n    th.camera.position.x += ( th.state.mouseX - th.camera.position.x ) * ratioH\n    th.camera.position.y += ( - th.state.mouseY - th.camera.position.y ) * ratioW\n    th.camera.lookAt( th.scene.position )\n\n    th.renderer.clear()\n    th.renderer.setViewport( 0, 0, th.state.width, th.state.height )\n    th.renderer.render( th.scene, th.camera )\n\n  }\n\n  animate () {\n\n    let th = this\n\n    function animate() {\n      requestAnimationFrame( animate )\n      th.render()\n    }\n\n    animate()\n    \n\n  }\n\n  event () {\n\n    let th = this\n    document.addEventListener( 'mousemove', th.onDocumentMouseMove(), false )\n    document.addEventListener( 'touchstart', th.onDocumentTouchStart(), false )\n    document.addEventListener( 'touchmove', th.onDocumentTouchMove(), false )\n    window.addEventListener( 'resize', th.onWindowResize(), false )\n\n  }\n\n  onDocumentMouseMove () {\n\n    let th = this\n\n    return function(event) {\n      th.state.mouseX = event.clientX - th.state.windowHalfX\n      th.state.mouseY = event.clientY - th.state.windowHalfY\n    }\n\n  }\n\n  onDocumentTouchStart () {\n    \n    let th = this\n\n    return function(event) {\n\n      if ( event.touches.length === 1 ) {\n\n        event.preventDefault()\n        th.state.mouseX = event.touches[ 0 ].pageX - th.state.windowHalfX\n        th.state.mouseY = event.touches[ 0 ].pageY - th.state.windowHalfY\n\n      }\n\n    }\n\n  }\n\n  onDocumentTouchMove () {\n    \n    let th = this\n\n    return function(event) {\n\n      if ( event.touches.length === 1 ) {\n\n        event.preventDefault()\n        th.state.mouseX = event.touches[ 0 ].pageX - th.state.windowHalfX\n        th.state.mouseY = event.touches[ 0 ].pageY - th.state.windowHalfY\n\n      }\n\n    }\n\n  }\n\n  onWindowResize () {\n\n    let th = this\n\n    return function() {\n      th.state.width = th.container.clientWidth\n      th.state.height = th.container.clientHeight\n      th.state.windowHalfX = th.container.clientWidth / 2\n      th.state.windowHalfY = th.container.clientHeight / 2\n\n      th.renderer.setSize( th.state.width, th.state.height )\n      th.camera.aspect = th.state.width / th.state.height \n      th.camera.updateProjectionMatrix()\n    }\n\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/universe.js\n **/"],"sourceRoot":""}